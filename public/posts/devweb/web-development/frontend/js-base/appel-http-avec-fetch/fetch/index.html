<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>My New Hugo Site</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Fetch
La méthode fetch() permet de faire des appels HTTP afin de récupérer des ressources sur le réseau et utilise le système de promesse.
Le premier paramètre sera souvent une chaîne de caractère indiquant m&rsquo;URL de la ressource à aller récupérer et le second paramètre sera un objet d&rsquo;options spécifiant les informations à envoyer avec la requête.
Exemple
fetch(&#39;https://jsonplaceholder.typicode.com/posts?_limit=10&#39;)
    .then(r =&gt; console.log(&#34;La réponse&#34;,r))
La promesse est résolue avec un objet Response
(voir mdn pour plus d&rsquo;info).
Cet objet contiendra notamment une propriété ok qui sera vraie.
Exemple:">
    <meta name="generator" content="Hugo 0.139.2">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/devweb/web-development/frontend/js-base/appel-http-avec-fetch/fetch/">
    

    <meta property="og:url" content="http://localhost:1313/posts/devweb/web-development/frontend/js-base/appel-http-avec-fetch/fetch/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="My New Hugo Site">
  <meta property="og:description" content="Fetch La méthode fetch() permet de faire des appels HTTP afin de récupérer des ressources sur le réseau et utilise le système de promesse.
Le premier paramètre sera souvent une chaîne de caractère indiquant m’URL de la ressource à aller récupérer et le second paramètre sera un objet d’options spécifiant les informations à envoyer avec la requête.
Exemple
fetch(&#39;https://jsonplaceholder.typicode.com/posts?_limit=10&#39;) .then(r =&gt; console.log(&#34;La réponse&#34;,r)) La promesse est résolue avec un objet Response (voir mdn pour plus d’info). Cet objet contiendra notamment une propriété ok qui sera vraie. Exemple:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">

  <meta itemprop="name" content="My New Hugo Site">
  <meta itemprop="description" content="Fetch La méthode fetch() permet de faire des appels HTTP afin de récupérer des ressources sur le réseau et utilise le système de promesse.
Le premier paramètre sera souvent une chaîne de caractère indiquant m’URL de la ressource à aller récupérer et le second paramètre sera un objet d’options spécifiant les informations à envoyer avec la requête.
Exemple
fetch(&#39;https://jsonplaceholder.typicode.com/posts?_limit=10&#39;) .then(r =&gt; console.log(&#34;La réponse&#34;,r)) La promesse est résolue avec un objet Response (voir mdn pour plus d’info). Cet objet contiendra notamment une propriété ok qui sera vraie. Exemple:">
  <meta itemprop="wordCount" content="282">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="My New Hugo Site">
  <meta name="twitter:description" content="Fetch La méthode fetch() permet de faire des appels HTTP afin de récupérer des ressources sur le réseau et utilise le système de promesse.
Le premier paramètre sera souvent une chaîne de caractère indiquant m’URL de la ressource à aller récupérer et le second paramètre sera un objet d’options spécifiant les informations à envoyer avec la requête.
Exemple
fetch(&#39;https://jsonplaceholder.typicode.com/posts?_limit=10&#39;) .then(r =&gt; console.log(&#34;La réponse&#34;,r)) La promesse est résolue avec un objet Response (voir mdn pour plus d’info). Cet objet contiendra notamment une propriété ok qui sera vraie. Exemple:">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        My New Hugo Site
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1"></h1>
      
      
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h1 id="fetch">Fetch</h1>
<p>La méthode fetch() permet de faire des appels HTTP afin de récupérer des ressources sur le réseau et utilise le système de promesse.</p>
<p>Le premier paramètre sera souvent une chaîne de caractère indiquant m&rsquo;URL de la ressource à aller récupérer et le second paramètre sera un objet d&rsquo;options spécifiant les informations à envoyer avec la requête.</p>
<p>Exemple</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;https://jsonplaceholder.typicode.com/posts?_limit=10&#39;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">r</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;La réponse&#34;</span>,<span style="color:#a6e22e">r</span>))
</span></span></code></pre></div><p>La promesse est résolue avec un objet <strong>Response</strong>
(voir mdn pour plus d&rsquo;info).
Cet objet contiendra notamment une propriété <em>ok</em> qui sera vraie.
Exemple:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;https://jsonplaceholder.typicode.com/posts?_limit=10&#39;</span>,{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Accept</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;application/json&#39;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">r</span> =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">r</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">ok</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">json</span>()
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;Erreur serveur&#39;</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">posts</span> =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;La liste des articles:&#39;</span>, <span style="color:#a6e22e">posts</span>)	
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>    .<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">e</span> =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;Une erreur est survenue&#39;</span>, <span style="color:#a6e22e">e</span>)
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h2 id="les-interfaces-de-fetch">Les interfaces de Fetch</h2>
<p>La méthode fetch() est utilisée pour récupérer une ressource</p>
<p>Dans le code ci-dessus, nous avons utilisé l&rsquo;interface <strong>headers</strong> qui représente les en-têtes de requête et de réponse, cela nous permet d&rsquo;effectuer diverses actions sur les en-têtes de requête et de réponse HTTP.</p>
<hr>
<p>Nous avons aussi l&rsquo;interface <strong>Request</strong> qui représente une demande de ressource.</p>
<hr>
<p>Et enfin, l&rsquo;interface Response qui représente la réponse d&rsquo;une requête initialisée.</p>
<h2 id="interrompre-un-fetch">Interrompre un fetch</h2>
<p>Pour interrompre un fetch, nous aurons besoin des interfaces <!-- raw HTML omitted -->==<strong>AbortController</strong>==<!-- raw HTML omitted --> et <!-- raw HTML omitted -->==<strong>AbortSignal</strong>==<!-- raw HTML omitted -->, elles autorisent les opérations telles que Fetch à être interrompue si elles ne sont pas encore achevées.</p>
<ul>
<li>L&rsquo;interface AbortController représente un objet contrôleur qui pemet d&rsquo;abandonner une ou plusieurs requêtes.</li>
<li>L&rsquo;interface AbortSignal représente un objet signal qui vous permet de communiquer avec une requête DOM et de l&rsquo;annuler si nécessaire par un objet AbortController</li>
</ul>
<p>Exemple:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">AbortController</span>()
</span></span><span style="display:flex;"><span>Promise.<span style="color:#a6e22e">race</span>([
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;https://jsonplaceholder.typicode.com/posts?_limit=10&#39;</span>,{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">signal</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">signal</span>
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;https://jsonplaceholder.typicode.com/posts?_limit=10&#39;</span>,{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">signal</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">signal</span>
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>]).<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">r</span> =&gt; <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">json</span>()).<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>)
</span></span></code></pre></div><ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  My New Hugo Site 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
